<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FindIt</title>

  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#1E1A17" />

  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="FindIt" />
  <link rel="apple-touch-icon" href="img/icon-192.png" />

  <link rel="stylesheet" href="css/styles.css" />

  <script defer src="js/db.js"></script>
  <script defer src="js/i18n.js"></script>
  <script defer src="js/ui.js"></script>
  <script defer src="js/app.js"></script>
</head>
<body>
  <header class="app-header">
    <button class="app-title button-like-link" id="btn-home" data-i18n="app_title">FindIt</button>
    <div class="header-actions">
      <button id="btn-theme" class="icon-button" aria-label="Toggle theme">üåô</button>
      <select id="language-select" aria-label="Language">
        <option value="en">English</option>
        <option value="he">◊¢◊ë◊®◊ô◊™</option>
      </select>
    </div>
  </header>

  <main class="app-main">
    <!-- Catalog -->
    <section id="tab-catalog" class="tab-panel active">
      <div class="panel-inner">
        <section class="card card-soft with-padding">
          <h2 class="section-title" data-i18n="tab_catalog">Catalog</h2>
          <input id="search-input" type="search" placeholder="Search..." data-i18n-placeholder="search_placeholder" />
          <div id="items-list" class="items-grid"></div>
          <div id="empty-state" class="empty-state">
            <p data-i18n="empty_message">No items yet</p>
          </div>
        </section>
      </div>
    </section>

    <!-- Add/Edit -->
    <section id="tab-add" class="tab-panel">
      <div class="panel-inner">
        <section class="card card-soft with-padding">
          <h2 class="section-title" data-i18n="tab_add">Add</h2>
          <img id="preview-img" class="preview-img" alt="" style="display:none;" />
          <button type="button" id="btn-remove-picture" class="btn btn-danger small" style="display:none;">
            <span data-i18n="btn_remove_picture">Remove picture</span>
          </button>

          <form id="item-form" class="form-grid">
            <input type="hidden" id="item-id" />
            <input type="hidden" id="item-index" />

            <div class="form-group">
              <label for="item-name">
                <span data-i18n="field_name">Name</span>
                <input id="item-name" type="text" required />
              </label>
            </div>

            <div class="form-group">
              <label for="item-category">
                <span data-i18n="field_category">Category</span>
                <input id="item-category" type="text" />
              </label>
            </div>

            <div class="form-group full-width">
              <label for="item-description">
                <span data-i18n="field_description">Description</span>
                <textarea id="item-description"></textarea>
              </label>
            </div>

            <div class="form-group full-width">
              <label for="item-location">
                <span data-i18n="field_location">Location</span>
                <input id="item-location" type="text" />
              </label>
            </div>

            <div class="form-group full-width">
              <label for="item-image" class="file-label">
                <span data-i18n="btn_choose_file">Choose file</span>
                <input id="item-image" type="file" accept="image/*" capture="environment" />
              </label>
            </div>

            <div class="form-actions">
              <div class="form-nav-left">
                <button type="button" id="btn-prev" class="btn btn-soft small"></button>
                <button type="button" id="btn-next" class="btn btn-soft small"></button>
              </div>
              <div class="form-nav-right">
                <button type="button" id="btn-cancel" class="btn btn-secondary"><span data-i18n="btn_cancel">Cancel</span></button>
                <button type="submit" class="btn btn-primary"><span data-i18n="btn_save">Save</span></button>
                <button type="button" id="btn-reset-form" class="btn btn-soft"><span data-i18n="btn_reset">Reset</span></button>
              </div>
            </div>
          </form>
        </section>
      </div>
    </section>

    <!-- Settings -->
    <section id="tab-settings" class="tab-panel">
      <div class="panel-inner">
        <section class="card card-soft with-padding">
          <h2 class="section-title" data-i18n="tab_settings">Settings</h2>
          <button id="btn-export" class="btn btn-soft"><span data-i18n="btn_export">Export data</span></button>
          <input id="import-file" type="file" accept="application/json" hidden />
          <button id="btn-delete-all" class="btn btn-danger"><span data-i18n="btn_delete_all">Delete all data</span></button>
        </section>
      </div>
    </section>

    <!-- About -->
    <section id="tab-about" class="tab-panel">
      <div class="panel-inner">
        <section class="card card-soft with-padding">
          <h2 class="section-title" data-i18n="about_title">About FindIt</h2>
          <p data-i18n="about_body">FindIt is a catalog app.</p>
        </section>
      </div>
    </section>
  </main>

  <nav class="tab-bar">
    <button class="tab-button active" data-tab="catalog"><span data-i18n="tab_catalog">Catalog</span></button>
    <button class="tab-button" data-tab="add"><span data-i18n="tab_add">Add</span></button>
    <button class="tab-button" data-tab="settings"><span data-i18n="tab_settings">Settings</span></button>
    <button class="tab-button" data-tab="about"><span data-i18n="tab_about">About</span></button>
  </nav>

  <div id="slide-tooltip" class="tooltip">‚¨ÖÔ∏è ‚û°Ô∏è</div>

  <div id="image-modal" class="image-modal">
    <div class="image-modal-backdrop"></div>
    <img id="image-modal-img" alt="" />
    <button id="image-modal-close" class="btn btn-soft small">‚úï</button>
  </div>

  <template id="item-card-template">
    <article class="item-card card card-soft">
      <div class="item-image-wrapper">
        <img class="item-image" alt="" />
      </div>
      <div class="item-content">
        <div class="item-header-line">
          <h3 class="item-name"></h3>
          <span class="item-category-badge"></span>
        </div>
        <p class="item-description"></p>
        <div class="item-location-row"></div>
      </div>
      <div class="item-actions">
        <button class="btn btn-soft small" data-action="edit"><span data-i18n="btn_edit">Edit</span></button>
        <button class="btn btn-danger small" data-action="delete"><span data-i18n="btn_delete">Delete</span></button>
      </div>
    </article>
  </template>
</body>
</html>
